<Command>
	<Topic Title="命令方块开发">
		API命令方块mod作者:陽叁疯(ysf)、再回首zh。

		如果你要反馈bug或提建议，

		可以加入qq群聊：836873135
	</Topic>
	<Topic Title="命令方块介绍">
		命令方块可以通过电路控制，
		根据特定的指令来实现对应的游戏效果。
		
		命令方块有三种工作模式：
		
		默认模式：
		使用功能指令时，命令方块六个面可接收电信号，
		都为输入端，效果均相同，
		输入高压（对应模拟信号8～f）时提交指令；
		
		
		变量模式：
		使用功能指令时，指令参数如果输入变量标识符X/Y/V/W，
		则会自动激活指令变量功能，
		前后左右四个面接收的电信号分别为对应的指令变量赋值。
		底面作为时钟端，功能规则与电路板相同：
		底面不接线为异步状态，
		输入的电信号发生改变且不都为0则提交指令；
		底面接线为同步状态，
		此时只有底端接收到上升沿信号才会进行变量赋值并提交指令。
		顶面为输出端，指令提交成功输出F。
		
		进入变量模式，命令方块的光点贴图会发生变化，
		四个面分别出现X/Y/V/W记号，代表激活了指令变量功能。
		参数去掉变量标识符X/Y/V/W则恢复原状，回到默认模式。
		
		
		判定模式：
		使用条件指令时，
		命令方块会进入判断条件是否成立的工作状态。
		六个面都变为输出端，效果均相同，
		实时判断，并输出对应的判断结果：
		条件成立输出F，不成立输出0。
		
		
		此外，还有其他功能等你去发现！
	</Topic>
	<Topic Title="命令辅助棒说明">
		手持命令辅助棒，点编辑框可进入指令快速提交界面。
		在此界面点击[指令运作]按钮可开启或关闭指令的执行。
		另：快速指令提交功能不支持指令变量和条件判断指令。
		
		
		用命令辅助棒点击方块可获取方块信息，
		点击放置的家具可获得对应的家具序号，
		点击掉落物可获取掉落物ID和特殊值，
		点击衣物掉落物可获得对应的衣物序号，
		点击动物可获取动物的实体名及部分属性，
		点击运动方块设计可获取对应的标识名，
		点击屏幕空气可获取玩家所在方块的坐标。
		
		命令辅助棒会存储最后一次点击获得的信息，
		如方块坐标、玩家视角、方块值、动物实体名等，
		可用于快速填写指令参数。
		
		每次点击会在世界形成一个绿色方块线框，
		线框上有三个小箭头，表示XYZ轴的正方向，
		向上为Y轴正方向，黄色为X轴正方向，另一个为Z轴正方向。
		可通过退档重进消除世界中的绿色线框。
		
		手持命令辅助棒并长按屏幕等待2秒可进行瞬移：
		当出现绿色瞄准图标时，松开屏幕可瞬移到瞄准位置。
		如果瞄准图标变红色，表示瞄准位置不可进行瞬移。
	</Topic>
	<Topic Title="参数书写规范">
		如果出现多个数值，以英文逗号为分隔符，
		具体可参考给定的默认参数值。
		
		所有数值都填整数，没有小数形式。

		指令变量标识符为大写字母X/Y/V/W，
		如果不使用变量模式，建议都用小写字母填写。
		
		书写不规范的指令在编辑完成时会有提示说明，
		注意及时核对并更改。
	</Topic>
	<Topic Title="坐标形式说明">
		游戏有三种坐标形式：
		默认坐标，命令方块相对坐标，玩家相对坐标。
		坐标形式只对坐标点起作用，对其他参数无影响。


		默认坐标：以世界为参考系，即在世界中的坐标，
		用命令辅助棒获取的标准坐标即为默认坐标。

		命令方块相对坐标：以当前命令方块为参考系，
		所输入的坐标最后会加上当前命令方块坐标。
		如坐标pos:0,5,0，即为命令方块正上方第5格的位置。
		注意，在SC中Y轴表示垂直方向，X和Z轴为水平方向。
		
		玩家相对坐标：以玩家为参考系的坐标，
		所输入的坐标最后会加上玩家的坐标。
		如坐标pos:-3,0,0，即为玩家在X轴负方向第3格的位置。
	</Topic>
	<Topic Title="条件判断说明">
		条件判断是命令方块的独特工作模式，
		配合功能指令可以实现各种各样的游戏效果，
		在这里称之为指令组合玩法，这是一个无上限的玩法。
		
		条件指令可以类比运动探测器：
		当玩家运动时，运动探测器输出电信号(高电平)。
		
		而条件指令就是有更多的判断条件，不仅仅是玩家运动。
		如方块存在判定指令：blockexist，
		坐标参数输入100,100,100，方块值参数输入46(铁块的ID)。
		此时表示坐标(100,100,100)是否存在铁块，
		如果存在，命令方块输出F，不存在则输出0。
	</Topic>
	<Topic Title="指令变量说明">
		在指令变量模式中，
		大写的英文字母X,Y,V,W为可识别的指令变量，
		其值取决于对应面输入的电信号值，
		X面输入的电信号即为变量X在指令中的值，
		Y面输入的电信号即为变量Y在指令中的值，
		V面输入的电信号即为变量V在指令中的值，
		W面输入的电信号即为变量W在指令中的值。
		变量不存在并不影响，具体自行测试寻找规则。

		四个变量仅是变量标识，无优先级之分，与坐标无直接关系。
		可自由组合，重复使用，支持表达式的四则运算。


		如方块放置指令：place，
		坐标参数输入100,100,100，方块值输入X。
		在底面不接线（异步状态）时，有：
		
		当X面输入信号4，则会赋值X=4并提交指令，
		此时会在坐标(100,100,100)生成一个方块值为4的方块。
		当X面输入信号F，则会赋值X=15并提交指令，
		此时会在坐标(100,100,100)生成一个方块值为15的方块。
		
		模拟信号：1,2,3,4,5,6,7,8,9,A,B,C,D,E,F
		分别对应数值：1,2,3,4,5,6,7,8,9,10,11,12,13,14,15
		
		除了方块值参数外，其他参数也能用变量代替，
		如坐标pos:X+15*W,100,100+Y；文件名f:帧图XYV.png，
		其中四个变量可以自由组合，数值型参数支持四则运算，
		但不可识别括号，表达式需去括号处理。
		
		
		命令方块接入电线与各个面的对应关系：
		命令方块与电路板的电线连接方式有所不同，判断规则为：
		与电线所在直线垂直的相接面就是该电线所连接的面。


		同步状态(底面接线)的应用:

		命令方块在提交指令时，0.02s内提交的指令才算同时提交，
		超过这个时间的都不算同时提交。
		如果要做一些大型、精准的电路相关装置，就必须考虑这个问题：
		信号每经过一个电路板或一段“独立”导线时，会延迟0.01s。

		解决方式就是底面接线，让命令方块处于同步状态。
		同步状态下只有底面接收到上升沿信号才会提交指令，
		否则，不管水平四个面接收的信号如何改变，都不会误提交指令。
	</Topic>
	<Topic Title="资源路径说明"> 
		命令方块能外部读取相关资源，
		有一个特定的资源目录：SurvivalCraft2.3/Command，
		电脑版在游戏根目录，也为Command文件夹。
		
		把图片(材质)、音频、方块文件等放入
		SurvivalCraft2.3/Command文件夹中，
		对应的指令就能读取并执行。
		
		除此之外，存档目录下的资源文件也能读取，且是优先的。
		即资源的一般查找规则：
		通过文件名查找，先查找存档工作路径下的文件，
		如果没有，则查找Command路径下的文件。
		
		在第一次加载mod时，
		会将内置的默认资源文件复制到Command目录，
		默认的资源文件可以直接读取使用。
		
		带资源的存档分享：
		在测试完成时，可以用copyfile指令将Command目录中
		的资源文件复制到存档工作目录，
		然后导出存档即可直接分享给其他玩家。
		其他玩家无需在Command目录放置对应资源文件，
		因为命令方块可以直接读取放入存档中的资源文件。
	</Topic>
	<Topic Title="快捷模式说明">
		当启用快捷模式时，对于有坐标参数的指令，
		可以用命令辅助棒点击坐标点更新坐标参数，
		再次点击上一个点击的位置则提交当前指令，
		即单击选择，双击确认。

		点击屏幕的坐标按钮可以锁定指定坐标参数。
	</Topic>
</Command>